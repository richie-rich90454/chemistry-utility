export function validateInputs(e,t){for(let l=0;l<e.length;l++)if(isNaN(e[l]))throw t&&t[l]&&document.getElementById(t[l]).classList.add("error"),new Error("Please fill all required fields with valid numbers")}export function calculateDilution(){try{let e,t,l=document.getElementById("dilution-solve-for").value,n=parseFloat(document.getElementById("dilution-M1").value),s=parseFloat(document.getElementById("dilution-V1").value),u=parseFloat(document.getElementById("dilution-M2").value),o=parseFloat(document.getElementById("dilution-V2").value),i=document.querySelectorAll("#dilution-calc input");for(let e=0;e<i.length;e++)i[e].classList.remove("error");if("M1"==l)validateInputs([s,u,o],["dilution-V1","dilution-M2","dilution-V2"]),e=u*o/s,t="M<sub>1</sub>=(M<sub>2</sub> x V<sub>2</sub>)/V<sub>1</sub>";else if("V1"==l)validateInputs([n,u,o],["dilution-M1","dilution-M2","dilution-V2"]),e=u*o/n,t="V<sub>1</sub>=(M<sub>2</sub> x V<sub>2</sub>)/M<sub>1</sub>";else if("M2"==l)validateInputs([n,s,o],["dilution-M1","dilution-V1","dilution-V2"]),e=n*s/o,t="M<sub>2</sub>=(M<sub>1</sub> x V<sub>1</sub>)/V<sub>2</sub>";else{if("V2"!=l)throw new Error("Invalid calculation type");validateInputs([n,s,u],["dilution-M1","dilution-V1","dilution-M2"]),e=n*s/u,t="V<sub>2</sub>=(M<sub>1</sub> x V<sub>1</sub>)/M<sub>2</sub>"}let a=l.startsWith("M")?"M":"L",r=document.getElementById("dilution-result");r.innerHTML="<p>"+t+"</p><p>Result: "+e.toFixed(4)+" "+a+"</p>",r.classList.add("show")}catch(e){let t=document.getElementById("dilution-result");t.innerHTML="<p>Error: "+e.message+"</p>",t.classList.add("show")}}export function calculateMassPercent(){try{let e=parseFloat(document.getElementById("mass-solute").value),t=parseFloat(document.getElementById("mass-solution").value),l=document.getElementById("concentration-unit").value,n=document.querySelectorAll("#mass-percent-calc input");for(let e=0;e<n.length;e++)n[e].classList.remove("error");if(validateInputs([e,t],["mass-solute","mass-solution"]),0==t)throw new Error("Solution mass cannot be zero");let s,u,o=e/t;if("percent"==l)s=100*o,u="%";else if("ppm"==l)s=1e6*o,u="ppm";else{if("ppb"!=l)throw new Error("Invalid unit");s=1e9*o,u="ppb"}let i=document.getElementById("mass-percent-result");i.innerHTML="<p>Concentration: "+s.toFixed(4)+" "+u+"</p>",i.classList.add("show")}catch(e){let t=document.getElementById("mass-percent-result");t.innerHTML="<p>Error: "+e.message+"</p>",t.classList.add("show")}}export function calculateMixing(){try{let e=parseFloat(document.getElementById("mix-C1").value),t=parseFloat(document.getElementById("mix-V1").value),l=parseFloat(document.getElementById("mix-C2").value),n=parseFloat(document.getElementById("mix-V2").value),s=document.querySelectorAll("#solution-mixing-calc input");for(let e=0;e<s.length;e++)s[e].classList.remove("error");if(validateInputs([e,t,l,n],["mix-C1","mix-V1","mix-C2","mix-V2"]),t+n==0)throw new Error("Total volume cannot be zero");let u=t+n,o=(e*t+l*n)/u,i=document.getElementById("mixing-result");i.innerHTML="<p>Final Concentration: "+o.toFixed(4)+" M</p><p>Total Volume: "+u.toFixed(4)+" L</p>",i.classList.add("show")}catch(e){let t=document.getElementById("mixing-result");t.innerHTML="<p>Error: "+e.message+"</p>",t.classList.add("show")}}